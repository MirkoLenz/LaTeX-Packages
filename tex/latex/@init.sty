\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{@init}


\RequirePackage{ifxetex,ifluatex}
\newif\ifluatexorxetex
\ifxetex
  \luatexorxetextrue
\else
  \ifluatex
    \luatexorxetextrue
  \else
    \luatexorxetexfalse
  \fi
\fi


\newif\if@de\@defalse
\newif\if@beamer\@beamerfalse
\newif\if@overleaf\@overleaffalse
\newif\if@koma\@komafalse

\DeclareOption{koma}{
	\KOMAoptions{
		% DIV=calc
	}
	\@komatrue
}
\DeclareOption{de}{\@detrue}
\DeclareOption{beamer}{\@beamertrue}
\DeclareOption{overleaf}{\@overleaftrue}
\DeclareOption{fapro}{
	\ifluatexorxetex
		\PassOptionsToPackage{pro}{fontawesome5}
	\fi
}
\DeclareOption{nonumbering}{
	\setcounter{secnumdepth}{0}
	\setcounter{tocdepth}{0}
}
\ProcessOptions\relax


\newcommand{\languageselection}{}
\if@de
	\renewcommand{\languageselection}{english,ngerman}
\else
	\renewcommand{\languageselection}{ngerman,english}
\fi

\PassOptionsToPackage{\languageselection}{babel}
\PassOptionsToPackage{\languageselection}{cleveref}


\if@beamer
\else
	\PassOptionsToPackage{pdfusetitle, unicode}{hyperref}
\fi


\RequirePackage{babel}

\RequirePackage{amsmath}
\RequirePackage{amsthm}
\RequirePackage{amstext}
\RequirePackage{amssymb}
% \RequirePackage{commath}
\RequirePackage{mathtools}
\RequirePackage{siunitx}

\ifluatex
	\RequirePackage{luatexbase} % Hack/Work-around for microtype bug
\fi

\RequirePackage[final, verbose = silent]{microtype}

\ifluatexorxetex
	\RequirePackage[no-math]{fontspec}
	\RequirePackage[math-style = ISO]{unicode-math}
	\defaultfontfeatures{
		Ligatures = Common,
		Numbers = Lining
	}
\fi

\if@overleaf
	\RequirePackage{fontawesome}
\else
	\RequirePackage{fontawesome5}
	\RequirePackage{xurl}
\fi

\RequirePackage{setspace}
\RequirePackage{hyperref}

\RequirePackage{graphicx}
\RequirePackage{xcolor}
\DeclareGraphicsExtensions{.pdf,.png,.jpg,.gif}

\RequirePackage{booktabs}
\RequirePackage[autostyle = true]{csquotes}

\RequirePackage[sharp]{easylist}
\RequirePackage[useregional, showseconds=false]{datetime2}

\if@beamer
\else
	\RequirePackage[shortlabels]{enumitem}
\fi


\setstretch{1.2}
\setlength{\parindent}{0em}
\setlength{\parskip}{.5em}

\newcommand{\maketoc}{
	{
		\pagenumbering{roman}
		\pagestyle{empty}
		\addtocontents{toc}{\protect\thispagestyle{empty}}
		\tableofcontents
		\cleardoublepage
	}
	\pagenumbering{arabic}
	\setcounter{page}{1}
}

\clubpenalty=10000
\widowpenalty=10000
\displaywidowpenalty=10000
