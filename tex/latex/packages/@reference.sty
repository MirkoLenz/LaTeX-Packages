\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{@reference}

\RequirePackage[
	backend = biber,
	style = authoryear,
	citestyle = authoryear-comp,
	dashed = false,
	firstinits = true
]{biblatex}

\RequirePackage[noabbrev, capitalize]{cleveref}
\RequirePackage{acronym}

\DeclareNameAlias{sortname}{last-first}


\if@beamer
	\renewcommand*{\bibfont}{\footnotesize}
	% \setbeamertemplate{bibliography item}[text]

	\setbeamertemplate{bibliography item}{
		\ifboolexpr{
			test {\ifentrytype{book}} or test {\ifentrytype{mvbook}}
			or test {\ifentrytype{collection}} or test {\ifentrytype{mvcollection}}
			or test {\ifentrytype{reference}} or test {\ifentrytype{mvreference}}
		}{\setbeamertemplate{bibliography item}[book]}
		{\ifentrytype{online}
			{\setbeamertemplate{bibliography item}[online]}
			{\setbeamertemplate{bibliography item}[article]}
		}
		\usebeamertemplate{bibliography item}
	}

	\defbibenvironment{bibliography}{
		\list{}{
			\settowidth{\labelwidth}{\usebeamertemplate{bibliography item}}%
			\setlength{\leftmargin}{\labelwidth}
			\setlength{\labelsep}{\biblabelsep - 1em}
			\addtolength{\leftmargin}{\labelsep}
			\setlength{\itemsep}{\bibitemsep + 1em}
			\setlength{\parsep}{\bibparsep}
		}
	}
	{\endlist}
	{\item}
\fi
