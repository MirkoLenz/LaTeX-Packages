\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{@code}


\RequirePackage{listings}
\RequirePackage{algorithm}
\RequirePackage[noend]{algpseudocode}

\if@beamer
	\lstset{
		basicstyle = \ttfamily\footnotesize,
		numbers=none,
		breaklines = true,
		tabsize = 2,
		xleftmargin = 0em
	}
\else
	\lstset{
		basicstyle = \ttfamily\small,
		numbers = left,
		numberstyle = \ttfamily\footnotesize,
		breaklines = true,
		tabsize = 4,
		xleftmargin = 4em
	}
\fi


\if@shellescape
	\RequirePackage{caption}
	\RequirePackage[newfloat=true]{minted}
	\usemintedstyle{manni} % bw

	\setminted{
		linenos,
		breaklines,
		mathescape,
		autogobble,
		framesep = 0.5em,
		fontsize = \small,
		tabsize = 4,
		baselinestretch = 1.0,
		% frame=lines
		% xleftmargin=2em,
	}
	\setmintedinline{}

	\renewcommand{\theFancyVerbLine}{\ttfamily\scriptsize\arabic{FancyVerbLine}}

	\newenvironment{longlisting}{\captionsetup{type=listing}}{}
\fi
